---
title: "Домашнее задание №1"
author: "Тунин Николай"
date: '10 октября 2018 г '
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Работа с данными

По адресу <http://people.math.umass.edu/~anna/Stat597AFall2016/rnf6080.dat> можно получить набор данных об осадках в Канаде с 1960 по 1980 годы. Необходимо загрузить эти данные при помощи read.table. Воспользуйтесь справкой, чтобы изучить аргументы, которые принимает функция.

### Загрузка данных в датафрейм

```{r}
data.df<-read.table("http://people.math.umass.edu/~anna/Stat597AFall2016/rnf6080.dat")
```

### Количество строк

```{r}
nrow(data.df)
```

### Количество столбцов

```{r}
ncol(data.df)
```

### Имена колонок

```{r}
colnames(data.df)
```
### Значение из 5 строки седьмого столбца

```{r}
data.df[5,7]
```

### 2 строка целиком

```{r}
data.df[2,]
```

Объясните, что делает следующая строка кода names(data.df) <- c("year", "month", "day", seq(0,23)). Воспользуйтесь функциями head и tail, чтобы просмотреть таблицу. Что представляют собой последние 24 колонки?

### Именование столбцов датафрейма

```{r}
names(data.df) <- c("year", "month", "day", seq(0,23))
```

```{r}
head(data.df)
```

```{r}
tail(data.df)
```

Последние 24 колонки представляют собой количество осадков за 60-80 годы. Все значения равны нулю.

### Добавление новой колонки

```{r}
data.df$daily<-apply(data.df[,4:27], 1, sum)
```

### Гистограмма по колонке daily

```{r}
hist(data.df$daily, prob = TRUE, main = "Гистограмма частоты количества осадков",
     xlab = "Количество осадков за день")
```

Поскольку в гистограмме есть отрицательные значения на оси абцисс, часть исходных данных повреждена

### Создание датафрейма без ошибок

```{r}
fixed.df<-data.df
for (i in 1:nrow(fixed.df)){
  for (j in 1:ncol(fixed.df))
  {
    if (fixed.df[i,j] < 0)
    {
      fixed.df[i,j]<-0
    }
  }
}
```

### Новая гистограмма

```{r}
hist(fixed.df$daily, prob = TRUE, main = "Гистограмма частоты количества осадков",
     xlab = "Количество осадков за день")
```

Полученная гистограмма более корректна, поскольку в ней нет отрицательных значений количества осадков за день.

## Синтаксис и типизирование

### Объяснение ошибок №1

Для каждой строки кода поясните полученный результат, либо объясните почему она ошибочна.

```{r}
v <- c("4", "8", "15", "16", "23", "42")
```

```{r}
max(v)
```

Считает максимальное значение вектора, символ "8" элемента вектора "8" имеет максимальное значение в кодировке

```{r}
sort(v)
```

Сортирует строковые элементы по возрастанию значения кодировки 1 символа строк вектора, если значения одинаковы, сравнение по 2 символу и т. д.

```{r eval=FALSE, include=TRUE}
sum(v)
```

Ошибка: функция не может работать с типом аргумента - "символ", вектор v состоит из символов

### Объяснение ошибок №2

Для следующих наборов команд поясните полученный результат, либо объясните почему они ошибочна.

```{r}
v2 <- c("5",7,12)
```

```{r eval=FALSE, include=TRUE}
v2[2] + 2[3]
```

Не может сложить число(2 элемент вектора) с нечислом

```{r}
df3 <- data.frame(z1="5",z2=7,z3=12)
```

```{r}
df3[1,2] + df3[1,3]
```

Складывает 2 и 3 элемент датафрейма

```{r}
l4 <- list(z1="6", z2=42, z3="49", z4=126)
```

```{r}
l4[[2]] + l4[[4]]
```

склдадывает значения элементов 2 и 4 компонентов списка

```{r eval=FALSE, include=TRUE}
l4[2] + l4[4]
```

Не может сложить 2(z2) и 4(z4) компоненты списка

## Работа с функциями и операторами

### Функция seq()

Оператор двоеточие создаёт последовательность целых чисел по порядку. Этот оператор — частный случай функции seq(), которую вы использовали раньше. Изучите эту функцию, вызвав команду ?seq. Испольуя полученные знания выведите на экран:

1.Числа от 1 до 10000 с инкрементом 372.

```{r}
seq(1, 10000, 372)
```

2.Числа от 1 до 10000 длиной 50.

```{r}
seq(1, 10000, length.out = 50)
```

### Функция rep()

Функция rep() повторяет переданный вектор указанное число раз. Объясните разницу между rep(1:5,times=3) и rep(1:5, each=3).

```{r}
rep(1:5,times=3)
```

Повторяет весь вектор 3 раза подряд

```{r}
rep(1:5, each=3)
```

Повторяет каждый элемент вектора 3 раза подряд